<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>OpenStreetMap &amp; OpenLayers - Marker Example</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link rel="stylesheet" href="https://openlayers.org/en/v4.6.5/css/ol.css" type="text/css">
	<script src="https://openlayers.org/en/v4.6.5/build/ol.js" type="text/javascript"></script>
  
  <script>
/* OSM & OL example code provided by https://mediarealm.com.au/ */
var map;
var mapLat = 19.5712388;
var mapLng = -99.2530477;
var mapDefaultZoom = 10;
function initialize_map() {
	map = new ol.Map({
	target: "map",
	layers: [
		new ol.layer.Tile({
			source: new ol.source.OSM({
			url: "https://a.tile.openstreetmap.org/{z}/{x}/{y}.png"
			})
		})
	],
	view: new ol.View({
		center: ol.proj.fromLonLat([mapLng, mapLat]),
		zoom: mapDefaultZoom
		})
	});
}

function add_map_point_s(lat, lng) {
	var fuente = "file:///home/randrade/proyectos/zorro_abarrotero/map/openlayers/logo_scorpion_40x26px.png";
			
	var vectorLayer = new ol.layer.Vector({
	source:new ol.source.Vector({
	features: [new ol.Feature({
		geometry: new ol.geom.Point(ol.proj.transform([parseFloat(lng), parseFloat(lat)], 'EPSG:4326', 'EPSG:3857')),
		})]
	}),
	style: new ol.style.Style({
		image: new ol.style.Icon({
		anchor: [0.5, 0.5],
		anchorXUnits: "fraction",
		anchorYUnits: "fraction",
		src: fuente,
		})
	})
	});
	map.addLayer(vectorLayer);
}

function add_map_point_z(lat, lng) {
	var fuente = "file:///home/randrade/proyectos/zorro_abarrotero/map/openlayers/logoheaderzorro_40x21px.png";
			
	var vectorLayer = new ol.layer.Vector({
	source:new ol.source.Vector({
	features: [new ol.Feature({
		geometry: new ol.geom.Point(ol.proj.transform([parseFloat(lng), parseFloat(lat)], 'EPSG:4326', 'EPSG:3857')),
		})]
	}),
	style: new ol.style.Style({
		image: new ol.style.Icon({
		anchor: [0.5, 0.5],
		anchorXUnits: "fraction",
		anchorYUnits: "fraction",
		src: fuente,
		})
	})
	});
	map.addLayer(vectorLayer);
}
</script>

</head>
<body onload="initialize_map(); 
	
	// Scorpion
	add_map_point_s(19.4686116,-99.238948);
	add_map_point_s(19.4525541,-99.2491945);
	add_map_point_s(19.4326018,-99.1353936);
	add_map_point_s(19.5713795,-99.2539298);
	//add_map_point_s(19.4326068,-99.1353936);
	//add_map_point_s(19.4326068,-99.1353936);
	//add_map_point_s(19.4326068,-99.1353936);
	//add_map_point_s(19.4326068,-99.1353936);
	
	// Zorro Abarrotero
	add_map_point_z(19.5457621,-99.3516972);
	add_map_point_z(19.493979,-99.3044248);
	add_map_point_z(19.4666842,-99.2445412);
	add_map_point_z(19.4553762,-99.2519831);
	add_map_point_z(19.5404804,-99.1940238);
	add_map_point_z(19.6214412,-99.3284169);
	add_map_point_z(19.6248475,-99.3286988);
	add_map_point_z(19.5550151,-99.1815459);
	add_map_point_z(19.5712388,-99.2530477);
	add_map_point_z(19.5703258,-99.255389);
	add_map_point_z(19.5804826,-99.2274575);
	add_map_point_z(19.493979,-99.3044248);
	add_map_point_z(19.5708609,-99.0589812);
	add_map_point_z(19.5495587,-99.3364402);
	add_map_point_z(19.5141471,-99.1256171);
	add_map_point_z(19.493979,-99.3044248);
	
	">
  <div id="map" style="width: 100vw; height: 100vh;"></div>
</body>
</html>
